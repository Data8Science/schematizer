<!DOCTYPE html>
<html lang="en" ng-app="docToolApp">
    <head>
        <title>Documentation Tool</title>
        <script src="http://ajax.googleapis.com/ajax/libs/angularjs/1.3.14/angular.min.js"></script>
        <script src="//maxcdn.bootstrapcdn.com/bootstrap/3.2.0/js/bootstrap.min.js"></script>
        <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css">

        <script src="/static/js/app.js"></script>
        <link rel="stylesheet" href="/static/css/schematizer.css">
    </head>

    <body ng-controller="docToolCtrl">

        <!-- Navbar -->
        <nav class="navbar navbar-default navbar-static-top" role="navigation">
            <div class="container-fluid">
                <div class="navbar-header">
                    <button type="button" class="navbar-toggle" data-toggle="collapse">
                        <span class="sr-only">Toggle navigation</span>
                    </button>
                    <span class="navbar-brand"><a href="./">Data Warehouse Documentation Tool</a></span>
                </div>
            </div>
        </nav>

        <div class="container">

            <!-- Search box -->
            <div class="panel panel-primary">
                <div class="panel-heading">Search</div>
                <div class="panel-body">
                    <form ng-submit="search()" class="form-inline" role="form">
                        <div class="form-group col-md-8">
                            <label class="control-label">Search for:</label>
                            <select class="form-control" id="searchType" ng-model="control">
                                <option>schema</option>
                                <option>topic</option>
                            </select>
                            <input type="text" class="form-control" ng-model="text"/>
                            <input type="submit" id="submit" value="Submit"/>
                        </div>
                    </form>
                </div>
            </div>

            <!-- Returned schema -->
            <table class="table table-striped table-hover table-bordered" ng-show="show==='schema'">
                <tr>
                    <th>field</th>
                    <th>value</th>
                <tr ng-repeat="(key, field) in data">
                    <td>{{key}}</td>
                    <td>{{field}}</td>
                </tr>
            </table>

            <!-- Error on requesting schema-->
            <div class="row" ng-show="show==='schemaError'">
                <div class="col-lg-12">
                    <div class="alert alert-danger" role="alert">No schemas found. Make sure to search by schema ID numbers.</div>
                </div>
            </div>

            <!-- Returned topic -->
            <table class="table table-striped table-hover table-bordered" ng-show="show==='topic'">
                <tr>
                    <th>Schema ID</th>
                    <th>Status</th>
                    <th>Created At</th>
                    <th>Updated At</th>
                </tr>
                <tr ng-repeat="schema in data">
                    <td>{{schema.schema_id}}</td>
                    <td>{{schema.status}}</td>
                    <td>{{schema.created_at}}</td>
                    <td>{{schema.updated_at}}</td>
                </tr>
            </table>

            <!-- Error on requesting topic-->
            <div class="row" ng-show="show==='topicError'">
                <div class="col-lg-12">
                    <div class="alert alert-danger" role="alert">No topics found.</div>
                </div>
            </div>

        </div>
    </body>
</html>

# -*- coding: utf-8 -*-

# For specific build introspection
known_android_clients = ['Android', 'CRB43', 'DRC83', 'CUPCAKE', 'ERD56C', 'ERD79', 'GenX', 'CRC1', 'CRB57', 'DRC92', 'DRD08', 'ERD72', 'ESD20', 'ESD56', 'CRB21', 'ECLAIR']
known_microsoft_wp7_device_types = ['Windows Phone', 'WindowsPhone']
known_microsoft_wp8_device_types = ['WindowsPhone/8']

# These should match config.api_keys_to_device_type (in config/private.py)
DEVICE_TYPE_UNKNOWN = 'Unknown'
DEVICE_TYPE_IPHONE = 'iPhone'
DEVICE_TYPE_IPAD = 'iPad'
DEVICE_TYPE_ANDROID = 'Android'
DEVICE_TYPE_ANDROID_TABLET = 'AndroidTablet'
DEVICE_TYPE_BLACKBERRY = 'Blackberry'
DEVICE_TYPE_WEBOS = 'WebOS'
DEVICE_TYPE_NOKIA = 'Nokia'
DEVICE_TYPE_FIOS = 'FiOS'
DEVICE_TYPE_WINDOWS_PHONE = 'Microsoft'
DEVICE_TYPE_WINDOWS_PHONE8 = 'WindowsPhone8'

# List of device types above, mostly for completeness testing.
DEVICE_TYPES = [
    DEVICE_TYPE_UNKNOWN,
    DEVICE_TYPE_IPHONE,
    DEVICE_TYPE_IPAD,
    DEVICE_TYPE_ANDROID,
    DEVICE_TYPE_ANDROID_TABLET,
    DEVICE_TYPE_BLACKBERRY,
    DEVICE_TYPE_WEBOS,
    DEVICE_TYPE_NOKIA,
    DEVICE_TYPE_FIOS,
    DEVICE_TYPE_WINDOWS_PHONE,
    DEVICE_TYPE_WINDOWS_PHONE8,
]

DEVICE_ID_DEPRECATED = 'deprecated'
DEVICE_ID_UNKNOWN = 'unknown'

# Defines the user agent string that identifies an Android Tablet device type
USER_AGENT_ANDROID_TABLET = 'Android-Tablet'

def is_ios_device(normed_device_type):
    # Note that this also considers iPods whose normed_device_type is DEVICE_TYPE_IPHONE.
    return normed_device_type == DEVICE_TYPE_IPHONE or normed_device_type == DEVICE_TYPE_IPAD

def ios_os_version(device_type):
    """iOS device types are of the form iPhone5,1/6.1.2 (or iPad2,1/6.1.3). The os version follows the /"""
    delim_pos = device_type.find('/')
    if delim_pos == -1:
        return ()
    return tuple(int(number) for number in device_type[delim_pos + 1:].split('.'))

"""
Utility functions for creating and manipulating files.
"""
import bz2
import gzip

def write_file(file_name, text):
    f = file(file_name, "w")
    try:
        f.write(text)
    finally:
        f.close()


def open_wrapper(filename, mode='r'):
    """Open file wrapper

    Open a file resource using raw, gzip or bz2 based on the filename.
    """
    if filename.endswith('.bz2'):
        return bz2.BZ2File(filename, mode=mode)
    elif filename.endswith('.gz'):
        return gzip.GzipFile(filename, mode=mode)
    else:
        return open(filename, mode=mode)



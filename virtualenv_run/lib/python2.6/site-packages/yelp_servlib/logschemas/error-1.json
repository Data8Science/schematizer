{
    "id": "http://y/service-error-log-1#",
    "$schema": "http://json-schema.org/draft-04/schema#",
    "title": "ServiceErrorLog",
    "description": "Service Error Log Schema",
    "type": "object",
    "properties": {
        "logger": {"type": "string"},
        "level": {"enum": ["ERROR"]},
        "message": {"type": "string"},
        "notify": {"type": "object"},
        "packed_time": {"type": "string"},
        "hostname": {
            "format": "hostname",
            "type": "string"},
        "unique_request_id": {"type": ["string", "null"]},
        "request": {"$ref": "#/definitions/request"},
        "traceback": {"type": "array", "items":{"type": "string"}},
        "version": {"type": "string"}
    },
    "required": ["logger", "level", "message", "notify", "packed_time", "hostname", "unique_request_id", "request", "traceback"],
    "additionalProperties": false,
    "definitions": {
        "request": {"type": "object",
            "properties": {
                "host": {"type": ["string", "null"]},
                "ip": {"type": "string", "format": "ipv4"},
                "method": {"enum": ["GET", "POST", "PUT", "DELETE", "HEAD", "OPTIONS"]},
                "referer": {"type": ["string", "null"]},
                "uri": {"type": "string"},
                "user_agent": {"type": ["string", "null"]},
                "version": {"type": ["string", "null"]}
            },
            "required": ["host", "ip", "method", "referer", "uri", "user_agent", "version"],
            "additionalProperties": false
        }
    }
}
